贝叶斯公式，又称贝叶斯定理、贝叶斯法则，最初是用来描述两个事件的条件概率间的关系的公式，后来被人们发现具有很深刻的实际意义和应用价值。该公式的实际内涵是，支持某项属性的事件发生得愈多，则该属性成立的可能性就愈大。
利用贝叶斯公式可以定量地描述由果推因的可靠程度，在经济、医药、人工智能等领域中广泛应用。
贝叶斯公式可以拓展为随机变量形式，在贝叶斯统计的观点下，如果已知样本的观察值，便可以使用参数的后验分布来进行参数估计。


## 公式简史
贝叶斯公式是英国学者托马斯·贝叶斯（ThomasBayes, 1702-1761）最早发现的。该结果首次发表于1763年，当时贝叶斯已经去世，而且该结果并未引起人们的重视；1774年，法国数学家拉普拉斯（Laplace）再次总结了这些结果。
在之后的一段时间内，人们开始认识到贝叶斯公式的重要性，并开始利用将其广泛地应用于安全诊断、药物检测、文本识别、文件分类等。贝叶斯公式也衍生出了机器学习的一系列理论和算法，如朴素贝叶斯算法等。

## 公式内容
定理设试验的样本空间为，为的事件，为中对事件的假定，且。那么两个事件之间的条件概率满足关系：

对于上式中的事件，是试验前的假定概率，被称为先验概率；是试验后的假定概率，被称为后验概率，指的是事件在已知事件的情况下发生的概率。
条件概率是贝叶斯公式的核心，相关性是贝叶斯公式要表达的哲学思想。“后验”在一定程度上地为人们由果推因、由经验作判断、通过统计规律来推测事物本质提供了逻辑基础。譬如，在数据挖掘案例“尿布与啤酒”中，由于年轻的爸爸们会在买尿布的时候顺便买啤酒，这便导致了尿布销量上涨时，啤酒销量也很有可能上涨。这是基于概率、相关性做出的推断，与基于逻辑、因果性做出的推断有本质上的区别。


## 应用举例
例1共100支步枪分为三等，见下表：
等级
数目（支）
射击中靶概率
1
70
0.99
2
20
0.80
3
10
0.40
现从中任选一支步枪进行射击，结果脱靶。问此枪为各个等级的概率为多少？
解：由以上信息可知：


由全概率公式可得：
综合以上代入贝叶斯公式，即得所求：



上面的例子可以体现出，如果脱靶，那么意味着选中了脱靶率更高的枪的概率更大，即使这些枪的数目是更少的。
例2老师对班内一名叫“安吉利”的女孩印象深刻，但是只记得她经常扎双马尾，却不记得她的其它的外貌特征。然而，双马尾的女孩并不是只有安吉利一个人，所以，老师仅仅通过发型来识别安吉利是不可行的。
经统计，每天班级内共10名女生中都约有3人扎双马尾，并且安吉利扎双马尾的频率大约为70%。根据以上数据，扎双马尾的女生是安吉利的概率是多少？
解：由贝叶斯公式可得

即通过已知信息，双马尾女生是安吉利的概率为23.3%。

## 公式推导
由条件概率的定义即得：

原公式证毕。

## 公式拓展

### 代入全概率公式
进一步，应用全概率公式可得：

如果中对事件的假定构成了互斥、完备的一组分划：，且各事件概率均为正，那么可得：


### 随机变量形式
该形式是统计学的参数估计中“贝叶斯估计”方法的基础。
设总体有样本，这些样本的联合密度函数为，其中（）是未知参数，作为随机变量具有先验分布函数。在贝叶斯统计的观点下，样本的联合密度函数是在给定下的条件密度函数，又称似然函数，即

如果有抽样信息，就可以通过给定样本观察值情况下参数的条件密度函数，来对参数进行统计推断。即只需要关注：

此即连续性随机变量形式的贝叶斯公式。
当是离散型随机变量时，先验分布替换为先验分布律，离散型随机变量形式的贝叶斯公式为：

实际应用中，如果在试验前对参数的了解不多，无法给出先验分布时，贝叶斯建议用均匀分布作为其先验分布。这个建议被称作贝叶斯假设。
